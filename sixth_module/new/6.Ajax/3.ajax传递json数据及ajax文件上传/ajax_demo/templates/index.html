<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>index</title>

    <script src="/static/jquery-3.3.1.min.js"></script>
</head>
<body>

<h2>this is Index</h2>

<button class="Ajax">Ajax</button>

<p class="content"></p>

<hr>
<h2>计算求和</h2>
<input type="text" id="num1">+<input type="text" id="num2">=<input type="text" id="res">
<button class="cal">计算</button><span class="span1" style="color: red;"></span>

<script>
    $(".Ajax").click(function () {
        // 发送Ajax请求
        $.ajax({
            url:"/test_ajax/",
            type:'get',
            data:{a:1,b:2},
            success:function (data) {
                console.log(data);
                $(".content").html(data);
            }
        })
    });

    $(".cal").click(function () {
        $.ajax({
            url:"/cal/",
            type:"GET",
            data:{
                n1:$("#num1").val(),
                n2:$("#num2").val(),
            },
            success:function (data) {
                if(parseInt(data)){
                    $("#res").val(data);
                    $(".span1").text("");
                }else {
                    $(".span1").text(data);
                    $("#num1").val("");
                    $("#num2").val("");
                    $("#res").val("");
                }

            }
        })
    })

</script>
</body>
</html>