<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>简易留言板</title>
    <style type="text/css">
        /**{margin: 0;padding: 0;}*/
    span{
        color: red;
        font-size: 10px;
        cursor: pointer;
    }

    </style>



</head>
<body>
    <h1>简易留言板</h1>
    <div id="box">

    </div>
    <textarea id="msg"></textarea>
    <input type="button" id="btn" value="留言">
    <button onclick="sum()">统计</button>
</body>
<script type="text/javascript">
    var ol = document.createElement('ol');
    var box = document.getElementById('box');
    box.appendChild(ol);

    var btn = document.getElementById('btn');

    var msg = document.getElementById('msg');

    var count = 0;

    btn.onclick = function () {

        var li = document.createElement('li');

        //设置内容：
        if(msg.value.length !== 0){
            ol.appendChild(li);
            li.innerHTML = msg.value + "<span>&nbsp;&nbsp;删除</span>";
            var lis = document.getElementsByTagName('li');


            if(lis.length === 0){
                ol.appendChild(li);
                count++;
            }else {
                ol.insertBefore(li,lis[0]);
                count++;
            }
            msg.value = '';


            var spans = document.getElementsByTagName('span');
            for(var i = 0;i<spans.length;i++){
                spans[i].onclick = function () {
                    ol.removeChild(this.parentNode);
                    count--;
                }
            }

         }else {
            alert('内容不能为空');
        }
    };

    function sum() {
        alert("留言统计："+count+"条")
    }
</script>
</html>